(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{335:function(t,e,o){"use strict";var r=o(13),l=o(7),n=o(88),c=o(20),d=o(14),m=o(48),f=o(188),h=o(65),v=o(8),w=o(67),_=o(66).f,I=o(34).f,E=o(17).f,S=o(336).trim,C="Number",x=l.Number,N=x.prototype,k=m(w(N))==C,M=function(t){var e,o,r,l,n,c,d,code,m=h(t,!1);if("string"==typeof m&&m.length>2)if(43===(e=(m=S(m)).charCodeAt(0))||45===e){if(88===(o=m.charCodeAt(2))||120===o)return NaN}else if(48===e){switch(m.charCodeAt(1)){case 66:case 98:r=2,l=49;break;case 79:case 111:r=8,l=55;break;default:return+m}for(c=(n=m.slice(2)).length,d=0;d<c;d++)if((code=n.charCodeAt(d))<48||code>l)return NaN;return parseInt(n,r)}return+m};if(n(C,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var y,A=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof A&&(k?v((function(){N.valueOf.call(o)})):m(o)!=C)?f(new x(M(e)),o,A):M(e)},T=r?_(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),B=0;T.length>B;B++)d(x,y=T[B])&&!d(A,y)&&E(A,y,I(x,y));A.prototype=N,N.constructor=A,c(l,C,A)}},336:function(t,e,o){var r=o(16),l="["+o(337)+"]",n=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(t){return function(e){var o=String(r(e));return 1&t&&(o=o.replace(n,"")),2&t&&(o=o.replace(c,"")),o}};t.exports={start:d(1),end:d(2),trim:d(3)}},337:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},349:function(t,e,o){"use strict";var r=o(2),l=o(120);r({target:"String",proto:!0,forced:o(121)("link")},{link:function(t){return l(this,"a","href",t)}})},574:function(t,e,o){var content=o(618);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(5).default)("223beafc",content,!0,{sourceMap:!1})},617:function(t,e,o){"use strict";o(574)},618:function(t,e,o){var r=o(4)((function(i){return i[1]}));r.push([t.i,".theme-dark .ls-modal-body[data-v-00545d9d],.theme-dark .ls-modal-header[data-v-00545d9d]{background:var(--theme-dark-2)}.theme-light .ls-modal-body[data-v-00545d9d],.theme-light .ls-modal-header[data-v-00545d9d]{background:var(--theme-light-1)}",""]),t.exports=r},628:function(t,e,o){"use strict";o.r(e);var r=o(9),l=(o(36),o(29),o(11),o(68),o(588)),n=o(346),c={mixins:[l.a,n.a],props:{demoClient:{type:Boolean,default:!1},mobileFullSize:{type:Boolean,default:!0}},data:function(){return{name:"",lastname:"",email:"",password:"",password_confirm:"",modal:!1,submitting:!1,allowSubmit:!1,emailError:"",passwordError:"",passwordConfirmError:"",buttonText:"Nuevo"}},computed:{title:function(){var t="Nuevo cliente";return this.demoClient?"".concat(t," demo"):t},fullSize:function(){return this.mobileFullSize&&window.innerWidth<=991.98}},watch:{email:function(){this.checkAllowSubmit()},password:function(){this.checkAllowSubmit()},password_confirm:function(){this.checkAllowSubmit()}},methods:{resetForm:function(){this.name="",this.lastname="",this.email="",this.password="",this.password_confirm=""},newClient:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitting=!0,"client/create",o={name:t.name,lastname:t.lastname,email:t.email,password:t.password,password_confirm:t.password_confirm,is_demo:t.demoClient},r=localStorage.getItem("access_token_bearer").toString(),e.next=6,t.$axios.$post("client/create",o,{headers:{Accept:"application/json",Authorization:r}});case 6:l=e.sent,t.newAlert(l),"success"===l.status&&(t.resetForm(),t.modal=!1),t.submitting=!1;case 10:case"end":return e.stop()}}),e)})))()},checkAllowSubmit:function(){var t=this.password===this.password_confirm,e=this.password.length>7,o=this.validateEmail(this.email);this.emailError=o||""===this.email?"":"Ingresa una dirección de correo válida",this.passwordError=e||""===this.password?"":"La contraseña debe tener al menos 8 dígitos",this.passwordConfirmError=t||""===this.password_confirm?"":"Las contraseñas no coinciden",this.allowSubmit=""!==this.name&&""!==this.lastname&&t&&e&&o}}},d=(o(617),o(3)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"d-flex justify-content-end align-self-baseline",class:{"w-100":t.fullSize}},[o("Button",{attrs:{icon:"iconly-boldPlus",text:t.buttonText},nativeOn:{click:function(e){t.modal=!0}}}),t._v(" "),o("ModalsModal",{staticClass:"ls-modal",attrs:{show:t.modal,modal:"lg"},on:{close:function(e){t.modal=!1}}},[o("ModalsModalHeader",{staticClass:"ls-modal-header"},[o("ModalsModalTitle",{staticClass:"fw-400"},[t._v(t._s(t.title))])],1),t._v(" "),o("ModalsModalBody",{staticClass:"p-4 text-left ls-modal-body"},[t.submitting?o("LoadingOverlay"):t._e(),t._v(" "),o("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.newClient.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 mb-3"},[o("IconBanner")],1),t._v(" "),o("div",{staticClass:"col-12 col-lg-6 mb-4"},[o("InputSoft",{attrs:{required:"",label:"Nombre",placeholder:"Nombre",type:"text",autocomplete:"off"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),o("div",{staticClass:"col-12 col-lg-6 mb-4"},[o("InputSoft",{attrs:{required:"",label:"Apellido",placeholder:"Apellido",type:"text",autocomplete:"off"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),t._v(" "),o("div",{staticClass:"col-12 mb-4"},[o("InputSoft",{attrs:{required:"",type:"email",label:"Email",placeholder:"Email",autocomplete:"off"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),o("InputError",{attrs:{error:t.emailError}})],1),t._v(" "),o("div",{staticClass:"col-12 mb-4"},[o("InputSoft",{attrs:{required:"",type:"password",label:"Contraseña",placeholder:"Contraseña",autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),o("InputError",{attrs:{error:t.passwordError}})],1),t._v(" "),o("div",{staticClass:"col-12 mb-4"},[o("InputSoft",{attrs:{required:"",type:"password",label:"Repetir contraseña",placeholder:"Repetir contraseña",autocomplete:"off"},model:{value:t.password_confirm,callback:function(e){t.password_confirm=e},expression:"password_confirm"}}),t._v(" "),o("InputError",{attrs:{error:t.passwordConfirmError}})],1),t._v(" "),o("div",{staticClass:"col-12 mt-2"},[o("ButtonSave",{attrs:{disabled:!t.allowSubmit,text:"Guardar","full-width":""}})],1)])])],1)],1)],1)}),[],!1,null,"00545d9d",null);e.default=component.exports;installComponents(component,{Button:o(345).default,ModalsModalTitle:o(386).default,ModalsModalHeader:o(387).default,LoadingOverlay:o(392).default,IconBanner:o(547).default,InputSoft:o(361).default,InputError:o(562).default,ButtonSave:o(383).default,ModalsModalBody:o(388).default,ModalsModal:o(389).default})}}]);